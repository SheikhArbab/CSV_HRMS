<div class="container d-flex justify-content-center align-items-center min-vh-50 glass rounded flex-column">
    <h1 class="font-weight-bold text-center" style="font-size: 30px;">
        {{isEditMode ? ('language.generic.edit' | translate) : ('language.generic.create' | translate)}}
        {{'language.sidebar.project' | translate}}
    </h1>

    <form [formGroup]="companyForm" class="form w-100" id="kt_form_1" (ngSubmit)="submitForm()">
        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">{{'language.form.name' | translate}} <span
                        class="text-danger">*</span></label>
                <input type="text" class="form-control" formControlName="name"
                    [placeholder]="'language.placeholders.name' | translate"
                    [ngClass]="{'is-invalid': (companyForm.get('name')?.invalid && (companyForm.get('name')?.touched || isSubmitted))}" />
                <div *ngIf="companyForm.get('name')?.invalid && (companyForm.get('name')?.touched || isSubmitted)"
                    class="invalid-feedback">
                    {{'language.errors.nameRequired' | translate}}
                </div>
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label">{{'language.form.status' | translate}} <span
                        class="text-danger">*</span></label>
                <select class="form-control custom-select" formControlName="status"
                    [ngClass]="{'is-invalid': (companyForm.get('status')?.invalid && (companyForm.get('status')?.touched || isSubmitted))}">
                    <option value="">{{'language.form.selectStatus' | translate}}</option>
                    @for(statusItem of status; track statusItem) {
                    <option [value]="statusItem.statusId">{{statusItem.statusName}}</option>
                    }
                </select>
                <div *ngIf="companyForm.get('status')?.invalid && (companyForm.get('status')?.touched || isSubmitted)"
                    class="invalid-feedback">
                    {{'language.errors.statusRequired' | translate}}
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">{{'language.form.startDate' | translate}} <span
                        class="text-danger">*</span></label>
                <input type="date" class="form-control" formControlName="startDate"
                    [ngClass]="{'is-invalid': (companyForm.get('startDate')?.invalid && (companyForm.get('startDate')?.touched || isSubmitted))}" />
                <div *ngIf="companyForm.get('startDate')?.invalid && (companyForm.get('startDate')?.touched || isSubmitted)"
                    class="invalid-feedback">
                    {{'language.errors.startDateRequired' | translate}}
                </div>
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label">{{'language.form.endDate' | translate}} <span
                        class="text-danger">*</span></label>
                <input type="date" class="form-control" formControlName="endDate"
                    [ngClass]="{'is-invalid': (companyForm.get('endDate')?.invalid && (companyForm.get('endDate')?.touched || isSubmitted))}" />
                <div *ngIf="companyForm.get('endDate')?.invalid && (companyForm.get('endDate')?.touched || isSubmitted)"
                    class="invalid-feedback">
                    {{'language.errors.endDateRequired' | translate}}
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">{{'language.form.budget' | translate}} <span
                        class="text-danger">*</span></label>
                <input type="number" class="form-control" formControlName="budget"
                    [placeholder]="'language.placeholders.budget' | translate"
                    [ngClass]="{'is-invalid': (companyForm.get('budget')?.invalid && (companyForm.get('budget')?.touched || isSubmitted))}" />
                <div *ngIf="companyForm.get('budget')?.invalid && (companyForm.get('budget')?.touched || isSubmitted)"
                    class="invalid-feedback">
                    {{'language.errors.budgetRequired' | translate}}
                </div>
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label">{{'language.form.currency' | translate}} <span
                        class="text-danger">*</span></label>
                <input type="text" class="form-control" formControlName="currency"
                    [placeholder]="'language.placeholders.currency' | translate"
                    [ngClass]="{'is-invalid': (companyForm.get('currency')?.invalid && (companyForm.get('currency')?.touched || isSubmitted))}" />
                <div *ngIf="companyForm.get('currency')?.invalid && (companyForm.get('currency')?.touched || isSubmitted)"
                    class="invalid-feedback">
                    {{'language.errors.currencyRequired' | translate}}
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 mb-3">
                <label class="form-label">{{'language.form.description' | translate}} <span
                        class="text-danger">*</span></label>
                <textarea class="form-control" formControlName="description"
                    [placeholder]="'language.placeholders.description' | translate" rows="3"
                    [ngClass]="{'is-invalid': (companyForm.get('description')?.invalid && (companyForm.get('description')?.touched || isSubmitted))}"></textarea>
                <div *ngIf="companyForm.get('description')?.invalid && (companyForm.get('description')?.touched || isSubmitted)"
                    class="invalid-feedback">
                    {{'language.errors.descriptionRequired' | translate}}
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-12 text-right">
                <button type="button" class="btn btn-light-danger font-weight-bold button-spacing"
                    (click)="goBack()">{{'language.generic.back' | translate}}</button>
                <button type="submit" class="btn btn-primary font-weight-bold me-3">
                    {{'language.generic.submit' | translate}}
                </button>
            </div>
        </div>
    </form>
</div>